<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Strength | Password</title>
</head>
<body>
    <div class="container">
        <header>Password Strength Indicator <br> In HTML CSS & JavaScript</header>

        <form action="">
            <div class="feild">
                <input onkeyup="trigger()" type="password" placeholder="Type Password" name="" id="">
                <span class="showBtn">SHOW</span>
            </div>

            <div class="indicator">
                <span class="weak"></span>
                <span class="medium"></span>
                <span class="strong"></span>
            </div>

            <div class="text"></div>
        </form>
    </div>

    <script>
        let indicator = document.querySelector('.indicator')
        let input = document.querySelector('input')
        let weak = document.querySelector('.weak')
        let medium = document.querySelector('.medium')
        let strong = document.querySelector('.strong')
        let text = document.querySelector('.text')
        let showBtn = document.querySelector('.showBtn')

        let regExpWeak = /[a-z]/;
        let regExpMedium = /\d+/;
        let regExpStrong = /.[!,@,#,$,%,^,&,*,?,_,~,`,-,(,)]/;

        function trigger() {
            if (input.value != "") {
                indicator.style.display = 'block'
                indicator.style.display = 'flex'

                if (input.value.length <=3 && (input.value.match(regExpWeak) || input.value.match(regExpMedium) || input.value.match(regExpStrong)))no=1;

                if (input.value.length >=6 && ((input.value.match(regExpWeak) && input.value.match(regExpMedium)) || (input.value.match(regExpMedium) && input.value.match(regExpStrong)) || (input.value.match(regExpWeak) && input.value.match(regExpStrong))))no=2;

                if (input.value.length >=6 && input.value.match(regExpWeak) && input.value.match(regExpMedium) && input.value.match(regExpStrong))no=3;

                if (no == 1) {
                    weak.classList.add('active')
                    text.style.display = "block"
                    text.textContent = "Your Password is too week"
                    text.classList.add('weak')
                }

                if (no == 2) {
                    medium.classList.add('active')
                    text.textContent = "Your Password is Medium"
                    text.classList.add('medium')
                } else{
                    medium.classList.remove('active')
                    text.classList.remove('medium')
                }

                if (no == 3) {
                    medium.classList.add('active')
                    strong.classList.add('active')
                    text.textContent = "Your Password is Strong"
                    text.classList.add('strong')
                } else{
                    strong.classList.remove('active')
                    text.classList.remove('strong')
                }

                showBtn.style.display = "block"

                showBtn.onclick = function() {
                    if (input.type == "password") {
                        input.type = "text"
                        showBtn.textContent = "HIDE"
                    } else{
                        input.type = "password"
                        showBtn.textContent = "SHOW"
                    }
                }

            } else{
                indicator.style.display = 'none'
                text.style.display = "none"
                showBtn.style.display = "none"
            }
        }
    </script>
</body>
</html>